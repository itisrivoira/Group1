{"ast":null,"code":"var _jsxFileName = \"/home/simone/Scaricati/SoulEnigmistaEsameGhostato/webapp/src/App.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport './App.css';\nimport Opzioni from './Opzioni';\nimport foto from \"./img/logo.png\";\nimport imagine from \"./audio/imagine.mp3\";\nimport Classe5C from './Classe5C';\nimport imgReg from \"./img/applicazioni/registro.png\";\nimport appBlocc from \"./img/applicazioni/appBlocc.png\";\nimport Corridoio from './Corridoio';\nimport Chimica from './Chimica';\nimport soul from \"./img/fantasmaPixel.png\";\nimport merendina from \"./img/merendinapx.png\";\nimport acido from \"./img/acido.jpg\";\nimport acqua from \"./img/acqua.jpg\";\nimport chiave from \"./img/chiave.jpg\";\nimport so3 from './img/so3.jpg';\nimport Bakeracqua from './img/baker1.png';\nimport Bakerso3 from './img/baker2.png';\nimport Bakeracido from './img/baker3.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  //inserisco le variabili\n  useEffect(() => {\n    inserisci(\"partenza5C\");\n  }, []);\n  var counter = 0;\n  const [FinestraOpt, setFinestraOpt] = useState(\"Home\"); //Finestra opzioni\n\n  const [Componente, setComponente] = useState(\"\"); //quale componente visulaizzo\n\n  const [Zaino, setZaino] = useState([]); //array di zaino\n\n  const [utente, setUtente] = useState([]); //id dell'utente\n\n  const [aCL, setaCL] = useState(0); //armadio è chiuso o aperto\n\n  const [aGA, setaGA] = useState(0); //armadio è chiuso o aperto\n\n  var baker = document.createElement(\"img\");\n  baker.className = \"oggetto\";\n  baker.id = \"baker\";\n  baker.name = \"nonPreso\";\n  baker.style.marginTop = \"110px\";\n  baker.style.marginLeft = \"64px\";\n  baker.draggable = false;\n\n  baker.ondragend = e => {\n    e.target.src = acido;\n  };\n\n  var zaino = Zaino;\n  var oggetti = {\n    //ad ogni id corrisponde un immagine perchè non può accedere direttamente al file system ma inserire i file\n    acqua: acqua,\n    so3: so3,\n    chiave: chiave,\n    acido: acido\n  }; //oggetto classi con chiave id e valore con l'immagine della classe\n\n  var classi = {\n    schermata: Classe5C,\n    schermataCor: Corridoio,\n    schermataChim: Chimica\n  };\n\n  const caricaPartita = () => {\n    fetch(\"http://127.0.0.1:3001/caricaPartita\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify({\n        utente: utente\n      })\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      data.zaino.map(value => {\n        //per ogni oggetto nello zaino lo aggiungo\n        let obj = document.createElement(\"img\");\n        obj.src = oggetti[value.id];\n        obj.id = value.id;\n        obj.className = \"oggetto\";\n        obj.style.width = \"32px\";\n        obj.style.height = \"32px\";\n        obj.style.margin = 0;\n        zaino.push(obj);\n        setZaino(zaino);\n      });\n\n      if (data.acl == 1) {\n        Cambia(Chimica);\n        document.getElementById(\"armadioChimLock\").id = \"armadioChimOpen\";\n      }\n\n      if (data.aga == 1) {\n        setaGA(1);\n      }\n\n      Cambia(classi[data.classe]); //cambiare classe\n\n      inserisci(data.posizione); //inserire soul\n    });\n  };\n\n  const Apri = (apri, chiudi) => {\n    document.getElementById(apri).style.display = \"flex\";\n    document.getElementById(chiudi).style.display = \"none\";\n    setFinestraOpt(chiudi);\n  };\n\n  const banconeChim = () => {\n    //on drop del bancone e se counter è 1 allora crea l'oggetto acido\n    trasportato.parentNode.removeChild(trasportato);\n    zaino = zaino.filter(obj => obj.id != trasportato.id);\n    console.log(zaino);\n\n    if (counter == 1) {\n      baker.id = \"acido\";\n      baker.name = \"preso\";\n    } else {\n      counter = 1;\n      baker.id = trasportato.id;\n    }\n\n    switch (baker.id) {\n      case \"baker\":\n        baker.src = Bakeracqua;\n        break;\n\n      case \"acqua\":\n        baker.src = Bakeracqua;\n        break;\n\n      case \"so3\":\n        baker.src = Bakerso3;\n        break;\n\n      case \"acido\":\n        baker.src = Bakeracido;\n        baker.draggable = true;\n        break;\n\n      default:\n        break;\n    }\n\n    document.getElementsByClassName(\"schermata2\")[0].removeChild(baker);\n    document.getElementsByClassName(\"schermata2\")[0].appendChild(baker); //aggiono eliminandolo e rimettendolo\n  };\n\n  const login = () => {\n    let user = {\n      nick: document.getElementById(\"nick\").value,\n      //litteral object\n      password: document.getElementById(\"password\").value\n    };\n    fetch(\"http://127.0.0.1:3001/login\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      //sto mandando i dati in json\n      body: JSON.stringify(user) //trasforma in json il litteral object\n\n    }).then(response => response.json()).then(data => {\n      if (data.response) {\n        setUtente(data.response[0].id);\n        console.log(\"id utente: \" + data.response[0].id);\n        Apri(\"homeLog\", \"login\"); //cambia immagine\n      } else {\n        console.log(\"utente non trovato\");\n        alert(\"utente non trovato\");\n      }\n    });\n  };\n\n  const Cambia = comp => {\n    //cambia il componente\n    if (document.contains(document.getElementById(\"5c\"))) {\n      document.getElementById(\"5c\").parentNode.removeChild(document.getElementById(\"5c\"));\n    }\n\n    setComponente(comp);\n  };\n\n  const inserisci = pos => {\n    //inserisce soul in una casella\n    if (document.contains(document.getElementById(\"soul\"))) {\n      document.getElementById(\"soul\").parentNode.removeChild(document.getElementById(\"soul\"));\n    }\n\n    let imgSoul = document.createElement(\"img\");\n    imgSoul.src = soul;\n    imgSoul.id = \"soul\";\n    imgSoul.draggable = true;\n    document.getElementById(pos).appendChild(imgSoul);\n  };\n\n  var trasportato;\n  document.addEventListener(\"dragstart\", function (event) {\n    // Metto l'immagine di Soul in una variabile\n    trasportato = event.target; //oggetto che sto spostando\n  }, false);\n  document.addEventListener(\"dragover\", function (event) {\n    event.preventDefault(); //annulla tutte le funzioni di default\n  }, false);\n  document.addEventListener(\"dragenter\", function (event) {\n    // coloro la casella su cui passo sopra\n    if (event.target.className == \"casella\") {\n      event.target.style.background = \"purple\";\n    } //colora di viola la casella dove passa soul\n\n  }, false);\n  document.addEventListener(\"dragleave\", function (event) {\n    // quando poso soul faccio tornare la casella traspaente\n    if (event.target.className == \"casella\") {\n      event.target.style.background = \"\";\n    }\n  }, false);\n  document.addEventListener(\"drop\", function (event) {\n    event.preventDefault(); // Inserisco l'immagine di Soul nella casella\n\n    if (event.target.className == \"casella\") {\n      event.target.style.background = \"\";\n      trasportato.parentNode.removeChild(trasportato);\n      event.target.appendChild(trasportato);\n      trasportato.style.marginLeft = \"0px\";\n      trasportato.style.marginTop = \"0px\";\n    } else if (event.target.id == \"Zaino\") {\n      let flag = 0;\n\n      if (trasportato.className == \"oggetto\") {\n        event.target.style.background = \"\";\n        trasportato.parentNode.removeChild(trasportato);\n        event.target.appendChild(trasportato);\n        trasportato.style.width = \"32px\";\n        trasportato.style.height = \"32px\";\n        trasportato.style.margin = 0;\n        zaino = Zaino;\n        zaino.map(obj => {\n          if (obj.id == trasportato.id) {\n            flag = 1;\n          }\n        });\n\n        if (flag == 0) {\n          zaino.push(trasportato);\n        }\n\n        setZaino(zaino);\n      }\n    } else if (event.target.id == \"imgArmadioChimLock\") {\n      if (trasportato.id == \"acido\") {\n        zaino = Zaino;\n        zaino = zaino.filter(obj => obj.id != \"acido\");\n        setZaino(zaino);\n        trasportato.parentNode.removeChild(trasportato);\n        event.target.id = \"imgArmadioChimOpen\";\n        creaOggetto(chiave, \"chiave\", event.target);\n      }\n\n      document.getElementById(\"armadioChimLock\").id = \"armadioChimOpen\";\n      setaCL(1);\n    } else if (event.target.id == \"imgArmadio5CLock\") {\n      if (trasportato.id == \"chiave\") {\n        if (trasportato.parentNode != null) {\n          trasportato.parentNode.removeChild(trasportato);\n        }\n\n        zaino = Zaino;\n        zaino = zaino.filter(obj => obj.id != trasportato.id);\n        event.target.id = \"imgArmadio5COpen\";\n        document.getElementById(\"armadio\").id = \"armadio5COpen\";\n        setZaino(zaino);\n        setZaino(zaino);\n      }\n    }\n  }, false);\n\n  const creaicona = (contenitore, src, onclick) => {\n    var icona = document.createElement(\"img\");\n    icona.src = src;\n    icona.className = \"icona\";\n    icona.addEventListener('click', () => {\n      onclick(contenitore);\n    });\n    contenitore.appendChild(icona);\n  };\n\n  const creaOggetto = (img, id, schermo) => {\n    let flag = 0;\n    zaino = Zaino;\n    zaino.map(value => {\n      if (value.id == id) {\n        flag = 1;\n      }\n    });\n\n    if (flag == 0) {\n      let oggetto = document.createElement(\"img\");\n      oggetto.src = img;\n      oggetto.className = \"oggetto\";\n      oggetto.draggable = true;\n      oggetto.id = id;\n      schermo.appendChild(oggetto);\n    }\n  };\n\n  const apriRegistro = computer => {\n    var registro = document.createElement(\"div\");\n    var icone = computer.childNodes;\n\n    for (let i = 0; i < icone.length; i++) {\n      icone[i].style.display = \"none\";\n    }\n\n    registro.id = \"registro\";\n    registro.className = \"schermata3\";\n    computer.appendChild(registro);\n  };\n\n  const nonFaccioNiente = () => {\n    return null;\n  };\n\n  document.onkeyup = function (e) {\n    if (document.getElementById(\"Gioco\").style.display == \"flex\") {\n      var charCode = e.keyCode;\n      var schermata = document.getElementById(\"schermata\");\n      var schermataChim = document.getElementById(\"schermataChim\"); //alert(charCode)\n\n      if (charCode == 13) {\n        var Posizione = document.getElementById(\"soul\").parentNode.id;\n\n        switch (Posizione) {\n          case \"armadio\":\n            if (!schermata.contains(document.getElementsByClassName(\"schermata2\")[0])) {\n              var armadio = document.createElement(\"div\");\n              armadio.id = \"imgArmadio5CLock\";\n              armadio.className = \"schermata2\";\n              schermata.appendChild(armadio);\n            }\n\n            break;\n\n          case \"computer\":\n            if (!schermata.contains(document.getElementsByClassName(\"schermata2\")[0])) {\n              var computer = document.createElement(\"div\");\n              computer.id = \"imgComputer\";\n              computer.className = \"schermata2\";\n              schermata.appendChild(computer);\n              creaicona(computer, imgReg, apriRegistro);\n              creaicona(computer, appBlocc, nonFaccioNiente);\n            }\n\n            break;\n\n          case \"lavagna\":\n            if (!schermata.contains(document.getElementsByClassName(\"schermata2\")[0])) {\n              var lavagna = document.createElement(\"div\");\n              lavagna.id = \"imgLavagna\";\n              lavagna.className = \"schermata2\";\n              schermata.appendChild(lavagna);\n            }\n\n            break;\n\n          case \"porta5C\":\n            Cambia(Corridoio);\n            inserisci(\"partenzaCor\");\n            break;\n\n          case \"cestini\":\n            alert(\"SOUL:I cestini sono vuoti...\");\n            break;\n\n          case \"partenza5C\":\n            alert(\"SOUL:La mia vecchia classe...\");\n            break;\n\n          case \"partenzaCor\":\n            Cambia(Classe5C);\n            inserisci(\"porta5C\");\n            break;\n\n          case \"portaCor\":\n            Cambia(Chimica);\n            inserisci(\"partenzaChim\");\n            break;\n\n          case \"partenzaChim\":\n            Cambia(Corridoio);\n            inserisci(\"portaCor\");\n            break;\n\n          case \"armadioChim\":\n            if (!schermataChim.contains(document.getElementsByClassName(\"schermata2\")[0])) {\n              var armadio = document.createElement(\"div\");\n              armadio.id = \"imgArmadioChim\";\n              armadio.className = \"schermata2\";\n              schermataChim.appendChild(armadio);\n              creaOggetto(acqua, \"acqua\", armadio);\n              creaOggetto(so3, \"so3\", armadio);\n            }\n\n            break;\n\n          case \"armadioChimLock\":\n            if (!schermataChim.contains(document.getElementsByClassName(\"schermata2\")[0])) {\n              var armadio = document.createElement(\"div\");\n              armadio.id = \"imgArmadioChimLock\";\n              armadio.className = \"schermata2\";\n              schermataChim.appendChild(armadio);\n            }\n\n            break;\n\n          case \"banconeChim6\":\n            if (!schermataChim.contains(document.getElementsByClassName(\"schermata2\")[0])) {\n              var bancone = document.createElement(\"div\");\n              bancone.id = \"imgBancone\";\n              bancone.value = 0;\n              bancone.className = \"schermata2\";\n\n              bancone.ondragover = event => event.preventDefault;\n\n              bancone.ondrop = banconeChim;\n\n              if (baker.name != \"preso\") {\n                if (aGA == 0) {\n                  switch (baker.id) {\n                    case \"baker\":\n                      baker.src = Bakeracqua;\n                      break;\n\n                    case \"acqua\":\n                      baker.src = Bakeracqua;\n                      break;\n\n                    case \"so3\":\n                      baker.src = Bakerso3;\n                      break;\n\n                    case \"acido\":\n                      baker.src = Bakeracido;\n                      baker.draggable = true;\n                      break;\n\n                    default:\n                      break;\n                  }\n\n                  baker.style.width = \"250px\";\n                  baker.style.height = \"274px\";\n                  bancone.appendChild(baker);\n                }\n              }\n\n              schermataChim.appendChild(bancone);\n            }\n\n            break;\n\n          case \"armadioChimOpen\":\n            if (!schermataChim.contains(document.getElementsByClassName(\"schermata2\")[0])) {\n              var armadio = document.createElement(\"div\");\n              armadio.id = \"imgArmadioChimOpen\";\n              armadio.className = \"schermata2\";\n              schermataChim.appendChild(armadio);\n              creaOggetto(chiave, \"chiave\", armadio);\n            }\n\n            break;\n\n          case \"armadio5COpen\":\n            if (!schermata.contains(document.getElementsByClassName(\"schermata2\")[0])) {\n              var armadio = document.createElement(\"div\");\n              armadio.id = \"imgArmadio5COpen\";\n              armadio.className = \"schermata2\";\n              schermata.appendChild(armadio);\n            }\n\n          default:\n            alert(document.getElementById(\"soul\").parentNode.id);\n            break;\n        }\n      } else if (charCode == 37) {\n        if (document.contains(document.getElementsByClassName(\"schermata2\")[0])) {\n          var computer = document.getElementsByClassName(\"schermata2\")[0];\n\n          if (computer.contains(document.getElementsByClassName(\"schermata3\")[0])) {\n            var icone = document.getElementsByClassName(\"schermata2\")[0].childNodes;\n\n            for (let i = 0; i < icone.length; i++) {\n              icone[i].style.display = \"inline-block\";\n            }\n\n            computer.removeChild(document.getElementsByClassName(\"schermata3\")[0]);\n          } else {\n            document.getElementsByClassName(\"schermata2\")[0].parentNode.removeChild(document.getElementsByClassName(\"schermata2\")[0]);\n          }\n        }\n      } else if (charCode == 77) {\n        zaino = Zaino;\n        var finestra = document.getElementById(\"Contenitore\");\n\n        if (finestra.contains(document.getElementById(\"Zaino\"))) {\n          finestra.removeChild(document.getElementById(\"Zaino\"));\n        } else {\n          var menuZaino = document.createElement(\"div\");\n          menuZaino.id = \"Zaino\";\n          console.log(zaino);\n          finestra.appendChild(menuZaino);\n          zaino.map(value => {\n            menuZaino.append(value);\n          });\n        }\n      } else if (charCode == 79) {\n        Apri(\"Option\", \"Gioco\");\n      } else if (charCode == 72) {\n        Apri(\"homeLog\", \"Gioco\");\n      } else if (charCode == 83) {\n        if (baker.name == \"preso\") {\n          var aGA = 1;\n        } else {\n          var aGA = 0;\n        }\n\n        let dati = {\n          utente: utente,\n          aga: aGA,\n          acl: aCL,\n          //0 se l'armadio di chimica è chiuso e 1 se è aperto\n          posizione: document.getElementById(\"soul\").parentNode.id,\n          //id della casella di Soul\n          classe: document.getElementsByClassName(\"classe\")[0].id,\n          //id della classe dov'è soul\n          zaino: []\n        };\n        zaino.map(value => {\n          dati.zaino.push({\n            id: value.id\n          });\n        });\n        fetch(\"http://127.0.0.1:3001/salva\", {\n          method: \"POST\",\n          headers: {\n            'Content-Type': 'application/json;charset=utf-8'\n          },\n          body: JSON.stringify(dati)\n        }).then(response => response.json()).then(data => console.log(data));\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"Contenitore\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"Home\",\n      class: \"Finestra\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        class: \"logo\",\n        src: foto,\n        width: \"80%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"pulsanti\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          class: \"option\",\n          id: \"Loginbt\",\n          type: \"button\",\n          value: \"Login\",\n          onClick: () => Apri(\"login\", \"Home\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          class: \"option\",\n          type: \"button\",\n          value: \"OPTION\",\n          onClick: () => Apri(\"Option\", \"Home\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"login\",\n      hidden: true,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        class: \"logo\",\n        src: foto,\n        width: \"80%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"pulsanti\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"formU\",\n          id: \"nick\",\n          name: \"nick\",\n          placeholder: \"Inserisci nick\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"formU\",\n          id: \"password\",\n          name: \"password\",\n          placeholder: \"Inserisci password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          id: \"logU\",\n          onClick: () => {\n            login();\n          },\n          value: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          class: \"option\",\n          type: \"button\",\n          value: \"OPTION\",\n          onClick: () => Apri(\"Option\", \"login\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"homeLog\",\n      hidden: true,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        class: \"logo\",\n        src: foto,\n        width: \"80%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"pulsanti\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"play\",\n          type: \"button\",\n          value: \"PLAY\",\n          onClick: () => Apri(\"Gioco\", \"homeLog\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"play\",\n          type: \"button\",\n          value: \"Carica Partita\",\n          onClick: () => {\n            Apri(\"Gioco\", \"homeLog\");\n            caricaPartita();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Opzioni, {\n      from: FinestraOpt\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"Gioco\",\n      class: \"Finestra\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"5c\",\n        children: /*#__PURE__*/_jsxDEV(Classe5C, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 9\n      }, this), Componente]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      id: \"cs_audio\",\n      loop: true,\n      controls: true,\n      autoPlay: true,\n      hidden: true,\n      children: /*#__PURE__*/_jsxDEV(\"source\", {\n        src: imagine,\n        type: \"audio/mpeg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 527,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"EF6ZQPb86D9Hka0cxfeK5fcg2xY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/simone/Scaricati/SoulEnigmistaEsameGhostato/webapp/src/App.js"],"names":["React","useState","useEffect","Opzioni","foto","imagine","Classe5C","imgReg","appBlocc","Corridoio","Chimica","soul","merendina","acido","acqua","chiave","so3","Bakeracqua","Bakerso3","Bakeracido","App","inserisci","counter","FinestraOpt","setFinestraOpt","Componente","setComponente","Zaino","setZaino","utente","setUtente","aCL","setaCL","aGA","setaGA","baker","document","createElement","className","id","name","style","marginTop","marginLeft","draggable","ondragend","e","target","src","zaino","oggetti","classi","schermata","schermataCor","schermataChim","caricaPartita","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","map","value","obj","width","height","margin","push","acl","Cambia","getElementById","aga","classe","posizione","Apri","apri","chiudi","display","banconeChim","trasportato","parentNode","removeChild","filter","getElementsByClassName","appendChild","login","user","nick","password","alert","comp","contains","pos","imgSoul","addEventListener","event","preventDefault","background","flag","creaOggetto","creaicona","contenitore","onclick","icona","img","schermo","oggetto","apriRegistro","computer","registro","icone","childNodes","i","length","nonFaccioNiente","onkeyup","charCode","keyCode","Posizione","armadio","lavagna","bancone","ondragover","ondrop","finestra","menuZaino","append","dati"],"mappings":"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","sourcesContent":["import * as React from 'react';\n\nimport { useState,useEffect } from 'react';\nimport './App.css';\nimport Opzioni from './Opzioni';\nimport foto from \"./img/logo.png\";\nimport imagine from \"./audio/imagine.mp3\";\nimport Classe5C from './Classe5C';\nimport imgReg from \"./img/applicazioni/registro.png\"\nimport appBlocc from \"./img/applicazioni/appBlocc.png\"\nimport Corridoio from './Corridoio';\nimport Chimica from './Chimica';\nimport soul from \"./img/fantasmaPixel.png\"\nimport merendina from \"./img/merendinapx.png\"\nimport acido from \"./img/acido.jpg\"\nimport acqua from \"./img/acqua.jpg\"\nimport chiave from \"./img/chiave.jpg\"\nimport so3 from './img/so3.jpg'\nimport Bakeracqua from './img/baker1.png'\nimport Bakerso3 from './img/baker2.png'\nimport Bakeracido from './img/baker3.png'\n\nfunction App() {  //inserisco le variabili\n  useEffect(() => {\n    inserisci(\"partenza5C\");\n  }, [])\n  var counter=0\n  const [FinestraOpt, setFinestraOpt] = useState(\"Home\")  //Finestra opzioni\n  const [Componente, setComponente] = useState(\"\")  //quale componente visulaizzo\n  const [Zaino,setZaino]=useState([])   //array di zaino\n  const [utente,setUtente]=useState([])  //id dell'utente\n  const [aCL,setaCL]=useState(0) //armadio è chiuso o aperto\n  const [aGA,setaGA]=useState(0) //armadio è chiuso o aperto\n\n \n  var baker=document.createElement(\"img\")\n  baker.className=\"oggetto\"\n  baker.id=\"baker\"\n  baker.name=\"nonPreso\"\n  baker.style.marginTop=\"110px\"\n  baker.style.marginLeft=\"64px\"\n  baker.draggable=false\n  baker.ondragend=(e)=>{e.target.src=acido}\n  \n  \n  var zaino=Zaino\n  var oggetti={   //ad ogni id corrisponde un immagine perchè non può accedere direttamente al file system ma inserire i file\n    acqua:acqua,\n    so3:so3,\n    chiave:chiave,\n    acido:acido\n  }\n \n//oggetto classi con chiave id e valore con l'immagine della classe\n  var classi={\n    schermata :Classe5C,\n    schermataCor:Corridoio,\n    schermataChim:Chimica\n  }\n  const caricaPartita=()=>{\n    fetch(\"http://127.0.0.1:3001/caricaPartita\",{\n      method:\"POST\",\n      headers:{'Content-Type':'application/json;charset=utf-8'},\n      body:JSON.stringify({utente:utente})\n    })\n    .then(response=>response.json())\n    .then(data=>{\n      console.log(data)\n      data.zaino.map((value)=>{ //per ogni oggetto nello zaino lo aggiungo\n      \n        let obj=document.createElement(\"img\")\n        obj.src=oggetti[value.id]\n        obj.id=value.id\n        obj.className=\"oggetto\"\n        obj.style.width=\"32px\"\n        obj.style.height=\"32px\"\n        obj.style.margin=0\n        zaino.push(obj)\n        setZaino(zaino)\n      })\n      if(data.acl==1){\n        Cambia(Chimica)\n        document.getElementById(\"armadioChimLock\").id=\"armadioChimOpen\"\n      }\n      if(data.aga==1){\n        setaGA(1)\n      }\n      Cambia(classi[data.classe]) //cambiare classe\n      inserisci(data.posizione) //inserire soul\n      \n      \n    })\n  }\n  \n  \n  const Apri=(apri, chiudi)=> {\n    document.getElementById(apri).style.display = \"flex\"\n    document.getElementById(chiudi).style.display = \"none\"\n    setFinestraOpt(chiudi)\n  }\n\n  const banconeChim=()=>{   //on drop del bancone e se counter è 1 allora crea l'oggetto acido\n    trasportato.parentNode.removeChild( trasportato );\n    zaino=zaino.filter(obj=>obj.id!=trasportato.id)\n    console.log(zaino)\n    if(counter==1){\n      baker.id=\"acido\"\n      baker.name=\"preso\"\n    }else{\n      counter=1\n      \n      baker.id=trasportato.id\n\n    }\n    \n    \n    switch (baker.id) {\n      case \"baker\":\n        baker.src=Bakeracqua\n        break;\n      case \"acqua\":\n        baker.src=Bakeracqua\n        break;\n      case \"so3\":\n        baker.src=Bakerso3\n        break;\n      case \"acido\":\n        baker.src=Bakeracido\n        baker.draggable=true\n        break;\n      default:\n        break;\n    }\n    document.getElementsByClassName(\"schermata2\")[0].removeChild(baker)\n    document.getElementsByClassName(\"schermata2\")[0].appendChild(baker)   //aggiono eliminandolo e rimettendolo\n\n  }\n\n \n  const login=()=>{\n    let user={\n      nick:document.getElementById(\"nick\").value, //litteral object\n      password: document.getElementById(\"password\").value\n    }\n   \n    fetch(\"http://127.0.0.1:3001/login\",{\n        method:\"POST\",\n        headers:{'Content-Type':'application/json;charset=utf-8'},  //sto mandando i dati in json\n        body:JSON.stringify(user)//trasforma in json il litteral object\n      }).then(response=>response.json()).then(data=>{\n        if (data.response) {\n          setUtente(data.response[0].id)\n          console.log(\"id utente: \"+data.response[0].id)\n          Apri(\"homeLog\",\"login\") //cambia immagine\n        }else{\n          console.log(\"utente non trovato\")\n          alert(\"utente non trovato\")\n        }\n      })\n    }\n\n  const Cambia=(comp)=>{    //cambia il componente\n    if (document.contains(document.getElementById(\"5c\"))) {\n      document.getElementById(\"5c\").parentNode.removeChild(document.getElementById(\"5c\"))\n    }\n    setComponente(comp)\n  }\n\n\n  const inserisci=(pos)=>{    //inserisce soul in una casella\n    if (document.contains(document.getElementById(\"soul\"))) {\n        document.getElementById(\"soul\").parentNode.removeChild((document.getElementById(\"soul\")))\n    }\n    let imgSoul=document.createElement(\"img\")\n    imgSoul.src=soul\n    imgSoul.id=\"soul\"\n    imgSoul.draggable=true\n    document.getElementById(pos).appendChild(imgSoul)\n    \n  }\n\n\n  var trasportato;\n  document.addEventListener(\"dragstart\", function(event) {\n    // Metto l'immagine di Soul in una variabile\n    trasportato = event.target; //oggetto che sto spostando\n  }, false);\n\n  document.addEventListener(\"dragover\", function(event) {\n    event.preventDefault()  //annulla tutte le funzioni di default\n  }, false);\n  \n  document.addEventListener(\"dragenter\", function(event) {\n    // coloro la casella su cui passo sopra\n    if (event.target.className == \"casella\") {\n      event.target.style.background = \"purple\";\n    } //colora di viola la casella dove passa soul\n  \n  }, false);\n  \n  document.addEventListener(\"dragleave\", function(event) {\n    // quando poso soul faccio tornare la casella traspaente\n    if (event.target.className == \"casella\") {\n      event.target.style.background = \"\";\n    }\n  \n  }, false);\n\n\n \n  document.addEventListener(\"drop\", function(event) {\n    event.preventDefault()\n    // Inserisco l'immagine di Soul nella casella\n    if (event.target.className == \"casella\") {\n      event.target.style.background = \"\";\n      trasportato.parentNode.removeChild( trasportato );\n      event.target.appendChild( trasportato );\n      trasportato.style.marginLeft=\"0px\"\n      trasportato.style.marginTop=\"0px\"\n    }else if (event.target.id == \"Zaino\") {\n      let flag=0\n      if (trasportato.className==\"oggetto\") {\n        event.target.style.background = \"\";\n        trasportato.parentNode.removeChild( trasportato);\n        event.target.appendChild( trasportato);\n        trasportato.style.width=\"32px\"\n        trasportato.style.height=\"32px\"\n        trasportato.style.margin=0\n        zaino=Zaino\n        zaino.map((obj)=>{\n          \n          if(obj.id==trasportato.id){\n            flag=1\n          }\n        })\n        if (flag==0){\n          zaino.push(trasportato)\n          \n        }\n        setZaino(zaino)\n      }\n      \n    }else if(event.target.id==\"imgArmadioChimLock\"){\n      \n      if(trasportato.id==\"acido\"){\n        zaino=Zaino\n        zaino=zaino.filter(obj=>obj.id!=\"acido\")\n        setZaino(zaino)\n        \n        trasportato.parentNode.removeChild( trasportato );\n        \n        \n        event.target.id=\"imgArmadioChimOpen\"\n        creaOggetto(chiave,\"chiave\",event.target)\n        \n      }\n      \n      document.getElementById(\"armadioChimLock\").id=\"armadioChimOpen\"\n      setaCL(1)\n    }else if(event.target.id==\"imgArmadio5CLock\"){\n      if(trasportato.id==\"chiave\"){\n        if(trasportato.parentNode!=null){\n          trasportato.parentNode.removeChild( trasportato );\n        }\n        zaino=Zaino\n        zaino=zaino.filter(obj=>obj.id!=trasportato.id)\n        \n        event.target.id=\"imgArmadio5COpen\"\n        document.getElementById(\"armadio\").id=\"armadio5COpen\"\n        setZaino(zaino)\n        setZaino(zaino)\n      }\n      \n    }\n       \n    \n  }, false);\n\n  const creaicona=(contenitore,src,onclick)=>{\n    var icona=document.createElement(\"img\")\n    icona.src=src\n    icona.className=\"icona\"\n    icona.addEventListener('click',()=>{onclick(contenitore)});\n    contenitore.appendChild(icona)\n  }\n  const creaOggetto=(img,id,schermo)=>{\n    \n    let flag=0\n    zaino=Zaino\n    zaino.map((value)=>{\n        if(value.id==id){\n          flag=1\n        }\n\n      })\n      if (flag==0){\n        let oggetto=document.createElement(\"img\");\n        oggetto.src=img\n        oggetto.className=\"oggetto\"\n        oggetto.draggable=true\n        oggetto.id=id\n        schermo.appendChild(oggetto)\n      }\n  }\n  const apriRegistro=(computer)=>{\n    var registro = document.createElement(\"div\");\n    var icone = computer.childNodes;\n\n    for (let i = 0; i < icone.length; i++) {\n      icone[i].style.display=\"none\"\n    }\n    registro.id=\"registro\"\n    registro.className=\"schermata3\"\n    computer.appendChild(registro)\n    \n\n  }\n\n  const nonFaccioNiente=()=>{\n    return null\n  }\n\n  document.onkeyup=function(e) {\n    if(document.getElementById(\"Gioco\").style.display == \"flex\"){\n      var charCode = e.keyCode;\n\n      var schermata=document.getElementById(\"schermata\")\n      var schermataChim=document.getElementById(\"schermataChim\")\n      //alert(charCode)\n      if (charCode==13) {\n        var Posizione=document.getElementById(\"soul\").parentNode.id\n        switch (Posizione) {\n          case \"armadio\":\n            if(!schermata.contains(document.getElementsByClassName(\"schermata2\")[0])){\n              var armadio = document.createElement(\"div\");\n              armadio.id=\"imgArmadio5CLock\"\n              armadio.className=\"schermata2\"\n              schermata.appendChild(armadio)\n            }\n            break;\n          case \"computer\":\n            if(!schermata.contains(document.getElementsByClassName(\"schermata2\")[0])){\n              var computer = document.createElement(\"div\");\n              computer.id=\"imgComputer\"\n              computer.className=\"schermata2\"\n              schermata.appendChild(computer)\n              creaicona(computer,imgReg,apriRegistro)\n              creaicona(computer,appBlocc,nonFaccioNiente)\n            }\n          \n            break;\n          case \"lavagna\":\n            if(!schermata.contains(document.getElementsByClassName(\"schermata2\")[0])){\n              var lavagna = document.createElement(\"div\");\n              lavagna.id=\"imgLavagna\"\n              lavagna.className=\"schermata2\"\n              schermata.appendChild(lavagna)\n            }\n            break;\n\n          case \"porta5C\":\n            Cambia(Corridoio)\n            inserisci(\"partenzaCor\")\n            break;\n          case \"cestini\":\n            alert(\"SOUL:I cestini sono vuoti...\")\n            break;\n          case \"partenza5C\":\n            alert(\"SOUL:La mia vecchia classe...\")\n            break;\n          case \"partenzaCor\":\n            Cambia(Classe5C)\n            inserisci(\"porta5C\")\n            break;\n          case \"portaCor\":\n            Cambia(Chimica)\n            inserisci(\"partenzaChim\")\n            \n            break;\n          case \"partenzaChim\":\n            Cambia(Corridoio)\n            inserisci(\"portaCor\")\n            break;\n          case \"armadioChim\":\n            if(!schermataChim.contains(document.getElementsByClassName(\"schermata2\")[0])){\n              var armadio = document.createElement(\"div\");\n              armadio.id=\"imgArmadioChim\"\n              armadio.className=\"schermata2\"\n              schermataChim.appendChild(armadio)\n              creaOggetto(acqua,\"acqua\",armadio)\n              creaOggetto(so3,\"so3\",armadio)\n              }\n            break;\n            case \"armadioChimLock\":\n              if(!schermataChim.contains(document.getElementsByClassName(\"schermata2\")[0])){\n                var armadio = document.createElement(\"div\");\n                armadio.id=\"imgArmadioChimLock\"\n                armadio.className=\"schermata2\"\n                schermataChim.appendChild(armadio)\n              }\n              break;\n            case \"banconeChim6\":\n              if(!schermataChim.contains(document.getElementsByClassName(\"schermata2\")[0])){\n                var bancone = document.createElement(\"div\");\n                bancone.id=\"imgBancone\"\n                bancone.value=0\n                bancone.className=\"schermata2\"\n                bancone.ondragover=(event)=>event.preventDefault\n                bancone.ondrop=banconeChim\n                \n                if(baker.name!=\"preso\"){\n                  if(aGA==0){\n                \n                    switch (baker.id) {\n                      case \"baker\":\n                        baker.src=Bakeracqua\n                        break;\n                      case \"acqua\":\n                        baker.src=Bakeracqua\n                        break;\n                      case \"so3\":\n                        baker.src=Bakerso3\n                        break;\n                      case \"acido\":\n                        baker.src=Bakeracido\n                        baker.draggable=true\n                        break;\n                      default:\n                        break;\n                    }\n                    baker.style.width=\"250px\"\n                    baker.style.height=\"274px\"\n                    bancone.appendChild(baker)\n                } \n              }\n                schermataChim.appendChild(bancone)\n              }\n            break;\n            case \"armadioChimOpen\":\n              if(!schermataChim.contains(document.getElementsByClassName(\"schermata2\")[0])){\n                var armadio = document.createElement(\"div\");\n                armadio.id=\"imgArmadioChimOpen\"\n                armadio.className=\"schermata2\"\n                schermataChim.appendChild(armadio)\n                creaOggetto(chiave,\"chiave\",armadio)\n                \n              }\n              break;\n            case \"armadio5COpen\":\n              if(!schermata.contains(document.getElementsByClassName(\"schermata2\")[0])){\n                var armadio = document.createElement(\"div\");\n                armadio.id=\"imgArmadio5COpen\"\n                armadio.className=\"schermata2\"\n                schermata.appendChild(armadio)\n                \n              }\n          default:\n            alert(document.getElementById(\"soul\").parentNode.id)\n            break;\n        }\n      }else if (charCode==37) {\n        if(document.contains(document.getElementsByClassName(\"schermata2\")[0])){\n          var computer=document.getElementsByClassName(\"schermata2\")[0]\n          if(computer.contains(document.getElementsByClassName(\"schermata3\")[0])){\n            var icone=document.getElementsByClassName(\"schermata2\")[0].childNodes\n            for (let i = 0; i < icone.length; i++) {\n              icone[i].style.display=\"inline-block\"\n            }\n            computer.removeChild(document.getElementsByClassName(\"schermata3\")[0])\n          }else{\n            document.getElementsByClassName(\"schermata2\")[0].parentNode.removeChild(document.getElementsByClassName(\"schermata2\")[0])\n          }\n        \n        }\n      \n      }else if (charCode==77){\n        zaino=Zaino\n        \n        var finestra=document.getElementById(\"Contenitore\")\n          if (finestra.contains(document.getElementById(\"Zaino\"))) {\n            finestra.removeChild(document.getElementById(\"Zaino\"))\n          }else{\n            var menuZaino = document.createElement(\"div\");\n            menuZaino.id=\"Zaino\"\n            console.log(zaino)\n            finestra.appendChild(menuZaino)\n            zaino.map((value)=>{\n              \n              menuZaino.append(value)\n            })\n          }\n        \n      }else if (charCode==79){\n        Apri(\"Option\",\"Gioco\")\n        \n      }else if(charCode==72){\n        Apri(\"homeLog\",\"Gioco\") \n      }else if(charCode==83){\n        \n        if(baker.name==\"preso\"){\n          var aGA=1\n        }else{\n          var aGA=0\n        }\n      \n        let dati={\n          utente:utente,\n          aga:aGA,\n          acl:aCL, //0 se l'armadio di chimica è chiuso e 1 se è aperto\n          posizione:document.getElementById(\"soul\").parentNode.id,  //id della casella di Soul\n          classe:document.getElementsByClassName(\"classe\")[0].id, //id della classe dov'è soul\n          zaino:[]\n      }\n        zaino.map((value)=>{\n          dati.zaino.push({id:value.id})\n        })\n        fetch(\"http://127.0.0.1:3001/salva\",{\n          method:\"POST\",\n          headers:{'Content-Type':'application/json;charset=utf-8'},\n          body:JSON.stringify(dati)\n        }).then(response=>response.json()).then(data=>console.log(data))\n      }\n    }\n  }\n  return (\n\n    <div id='Contenitore'>\n      \n      <div id=\"Home\" class=\"Finestra\">\n        <img class=\"logo\" src={foto} width=\"80%\" ></img>\n          <div class=\"pulsanti\">\n            <input class='option' id='Loginbt' type=\"button\" value=\"Login\"  onClick={()=>Apri(\"login\",\"Home\") }/>\n          \n            <input class='option' type=\"button\" value=\"OPTION\"  onClick={()=>Apri(\"Option\",\"Home\") }/>\n          </div>\n      </div>\n\n      <div id=\"login\" hidden>\n        <img class=\"logo\" src={foto} width=\"80%\" ></img>\n        \n        <div class=\"pulsanti\" >\n          <input type=\"text\" class=\"formU\" id=\"nick\" name=\"nick\" placeholder=\"Inserisci nick\" required />\n          <input type=\"text\" class=\"formU\" id=\"password\" name=\"password\" placeholder=\"Inserisci password\" required />\n          \n          <input type=\"button\" id=\"logU\" onClick={()=>{login()}} value=\"Login\"/>\n          <input class='option' type=\"button\" value=\"OPTION\"  onClick={()=>Apri(\"Option\",\"login\") }/>\n          \n        </div>\n        \n      </div>\n\n      <div id=\"homeLog\" hidden>\n        <img class=\"logo\" src={foto} width=\"80%\" ></img>\n        \n        <div class=\"pulsanti\">\n          <input id='play' type=\"button\" value=\"PLAY\"  onClick={()=>Apri(\"Gioco\",\"homeLog\") }/>\n          <input id='play' type=\"button\" value=\"Carica Partita\"  onClick={()=>{Apri(\"Gioco\",\"homeLog\");caricaPartita() }}/>\n        </div> \n      </div>\n      <Opzioni from={FinestraOpt}/>\n      \n      <div id=\"Gioco\" class=\"Finestra\">\n        <div id=\"5c\">\n          <Classe5C/>\n        </div>\n        {Componente}\n        \n      </div>\n      \n      <audio id=\"cs_audio\" loop controls autoPlay hidden>\n        <source src={imagine} type=\"audio/mpeg\"/>\n      </audio>\n    </div>\n    \n  );\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}